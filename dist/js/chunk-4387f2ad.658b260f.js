(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4387f2ad"],{"6aef":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.formInline}},[a("el-form-item",{attrs:{label:"角色名称"}},[a("el-input",{attrs:{type:"text"},model:{value:t.formInline.name,callback:function(e){t.$set(t.formInline,"name",e)},expression:"formInline.name"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"}},[t._v("查询")]),a("el-button",{attrs:{plain:""},on:{click:t.addRole}},[t._v("添加角色")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","max-height":"400"}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"200"}}),a("el-table-column",{attrs:{prop:"name",label:"角色名称"}}),a("el-table-column",{attrs:{prop:"date",label:"添加日期",width:"300"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"==e.row.type?void 0:[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("编辑")]),a("el-button",{attrs:{size:"small",type:"danger"}},[t._v("删除")]),a("el-button",{attrs:{size:"small",plain:""},on:{click:function(a){return t.authRole(e.row)}}},[t._v("角色授权")])]]}}])})],1),a("div",{staticStyle:{"margin-top":"20px","text-align":"center"}},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"prev-text":"上一页","next-text":"下一页"},on:{"current-change":t.curChange}})],1),a("el-dialog",{attrs:{title:"角色授权",visible:t.authroleDialog,width:"35%"},on:{"update:visible":function(e){t.authroleDialog=e}}},[a("auth-role",{attrs:{roleName:t.roleName},on:{closeparentdialog:t.closeDialog}})],1)],1)},l=[],r=(a("b0c0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"role-name-wrap"},[t._v(" 当前授权角色："+t._s(t.roleName)+" "),a("el-divider"),a("el-tree",{ref:"tree",attrs:{data:t.treeData,"show-checkbox":"","default-expand-all":"","node-key":"id","highlight-current":"",props:t.defaultProps}}),a("el-divider"),a("div",{staticStyle:{"margin-top":"30px","text-align":"center"}},[a("el-button",{on:{click:function(e){return t.handleCloseParentDialog(null)}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("保 存")])],1)],1)}),o=[],i=(a("a15b"),{name:"AuthRole",props:{roleName:String},data:function(){return{defaultProps:{children:"children",label:"label"},treeData:[]}},methods:{handleCloseParentDialog:function(){this.$emit("closeparentdialog")},submitForm:function(){var t=this.$refs.tree.getCheckedKeys();alert("选择的节点："+t.join(","))},getMenuData:function(){var t=this;this.axios.get("/node/list").then((function(e){var a=e.data.data;t.treeData=t.initTree(a)}))},initTree:function(t){for(var e=0;e<t.length;e++)t[e].label=t[e].name,t[e].children&&this.initTree(t[e].children);return t}},mounted:function(){this.getMenuData()}}),s=i,u=a("2877"),c=Object(u["a"])(s,r,o,!1,null,null,null),d=c.exports,m={name:"Role",components:{AuthRole:d},data:function(){return{authroleDialog:!1,roleName:"",formInline:{name:""},tableData:[{id:1,name:"超级管理员",type:1,status:1,date:"2020-08-01 12:12:12"},{id:2,name:"内容管理员",type:2,status:1,date:"2020-08-01 12:12:12"},{id:3,name:"产品管理员",type:2,status:2,date:"2020-08-01 12:12:12"}],page:1,per_page:5,total:0}},methods:{addRole:function(){this.$router.push("/role/add")},curChange:function(t){console.log(t)},authRole:function(t){this.authroleDialog=!0,this.roleName=t.name},closeDialog:function(){this.authroleDialog=!1}}},p=m,f=(a("b700"),Object(u["a"])(p,n,l,!1,null,null,null));e["default"]=f.exports},a15b:function(t,e,a){"use strict";var n=a("23e7"),l=a("44ad"),r=a("fc6a"),o=a("a640"),i=[].join,s=l!=Object,u=o("join",",");n({target:"Array",proto:!0,forced:s||!u},{join:function(t){return i.call(r(this),void 0===t?",":t)}})},b700:function(t,e,a){"use strict";var n=a("fbfe"),l=a.n(n);l.a},fbfe:function(t,e,a){}}]);
//# sourceMappingURL=chunk-4387f2ad.658b260f.js.map